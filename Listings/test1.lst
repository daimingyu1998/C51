C51 COMPILER V9.57.0.0   TEST1                                                             09/26/2020 06:58:59 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE TEST1
OBJECT MODULE PLACED IN .\Objects\test1.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE test1.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\tes
                    -t1.lst) TABS(2) OBJECT(.\Objects\test1.obj)

line level    source

   1          #include  <reg52.h>
   2          #include  <intrins.h>
   3          
   4          sbit speed_button = P1^0;
   5          sbit state_button = P1^1;
   6          sbit led = P2^0;
   7          enum SPEED{ low = 0, mid = 1, high = 2} speed = low;
   8          enum STATE{ stop = 0, run =1} state = stop;
   9          void setInit();
  10          void setTimer();
  11          void main(){
  12   1        setInit();
  13   1        setTimer();
  14   1        while(1);
  15   1      }
  16          void controlSpeed() interrupt 0{
  17   1        if (state == run){
  18   2          speed = (speed+1)%3;
  19   2          
  20   2        } 
  21   1      }
  22          void controlState() interrupt 2{
  23   1        state = 1 - state;
  24   1        led = 0;
  25   1      }
  26          void timer0() interrupt 1{
  27   1        
  28   1      }
  29          void setInit(){
  30   1        IT0 = 1;  //外部中断0下降沿触发
  31   1        IT1 = 1;
  32   1        EX0 = 1;  //外部中断0允许
  33   1        EX1 = 1; 
  34   1        EA = 1;   //总中断允许
  35   1      }
  36          void setTimer(){
  37   1        TMOD = 0x01; //定时器控制方式
  38   1        TH0 = 156; //定时器初值
  39   1        TL0 = 156; 
  40   1        ET0 = 1; //定时器0中断允许
  41   1      }
  42          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    108    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
